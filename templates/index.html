<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Star Wars Universe Planets</title>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='main.css')}}">
        <script src="{{url_for('static', filename='main.js')}}" defer></script>
    </head>
    <body>
        <div class="container">
            <heading class="row">
                <h1>
                    Star Wars Universe Planets
                </h1>
            </heading>
            <div class="row">
                {% if prev_page != None %}
                    <input type="button" class="btn btn-primary page-btn" id="prev-page" value="Previous" data-page="{{prev_page}}">
                {% endif %} 
                {% if next_page != None %}
                    <input type="button" class="btn btn-success page-btn" id="next-page" value="Next" data-page="{{next_page}}">
                {% endif %}
            </div>
            <div class="row">
                <table>
                    <tr>
                        {% for header in planet_keys%}
                            <th>{{header[0]}}</th>
                        {% endfor %}
                        <th></th>
                    </tr>
                    {% for planet in planets%}
                        <tr>
                            {% for key in planet_keys %}
                                <td>
                                    {% if key[1] != "residents"%}
                                        {{ planet[key[1]] }}
                                    {% else %}
                                        {% if planet[key[1]]|length == 0 %}
                                            No known residents
                                        {% else %}
                                            <input type='button' class='btn resident-btn' value='{{planet[key[1]]|length}} Resident(s)' data-planet-url='{{planet["url"]}}'>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endfor %}
                            <td>vote buttony</td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </body>
</html>